{"version":3,"sources":["assets\\scripts\\common\\cmpt\\ui\\adapt\\AdaptCanvas.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sDAAqD;AACrD,+CAA0E;AAEpE,IAAA,KAAgD,EAAE,CAAC,UAAU,EAA3D,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAA,EAAE,gBAAgB,sBAAkB,CAAC;AAEpE,SAAS;AACT,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC;IACtB,gBAAM,CAAC,IAAI,CAAC,qBAAS,CAAC,MAAM,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC;AAEH;;GAEG;AAKH;IAAyC,+BAAY;IAArD;;IAiBA,CAAC;IAhBa,4BAAM,GAAhB;QACI,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAGO,2BAAK,GAAb;QACI,IAAI,eAAe,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC7G,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QACjD,IAAI,KAAK,GAAG,eAAe,EAAE;YACzB,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;YACpC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;SACvC;aAAM;YACH,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;YACrC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;SACtC;IACL,CAAC;IAVD;QADC,qBAAY,CAAC,qBAAS,CAAC,MAAM,CAAC;4CAW9B;IAhBgB,WAAW;QAJ/B,OAAO;QACP,qBAAY,EAAE;QACd,gBAAgB;QAChB,IAAI,CAAC,4BAA4B,CAAC;OACd,WAAW,CAiB/B;IAAD,kBAAC;CAjBD,AAiBC,CAjBwC,EAAE,CAAC,SAAS,GAiBpD;kBAjBoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import { EventName } from \"../../../const/EventName\";\r\nimport Events, { eventsOnLoad, preloadEvent } from \"../../../util/Events\";\r\n\r\nconst { ccclass, property, menu, disallowMultiple } = cc._decorator;\r\n\r\n// 仅web有效\r\ncc.view.setResizeCallback(() => {\r\n    Events.emit(EventName.RESIZE);\r\n});\r\n\r\n/**\r\n * 分辨率适配组件，保证设计分辨率区域全部都能显示\r\n */\r\n@ccclass\r\n@eventsOnLoad()\r\n@disallowMultiple\r\n@menu(\"Framework/UI组件/AdaptCanvas\")\r\nexport default class AdaptCanvas extends cc.Component {\r\n    protected onLoad(): void {\r\n        this.adapt();\r\n    }\r\n\r\n    @preloadEvent(EventName.RESIZE)\r\n    private adapt(): void {\r\n        let resolutionRatio = cc.Canvas.instance.designResolution.width / cc.Canvas.instance.designResolution.height;\r\n        let ratio = cc.winSize.width / cc.winSize.height;\r\n        if (ratio > resolutionRatio) {\r\n            cc.Canvas.instance.fitHeight = true;\r\n            cc.Canvas.instance.fitWidth = false;\r\n        } else {\r\n            cc.Canvas.instance.fitHeight = false;\r\n            cc.Canvas.instance.fitWidth = true;\r\n        }\r\n    }\r\n}\r\n"]}