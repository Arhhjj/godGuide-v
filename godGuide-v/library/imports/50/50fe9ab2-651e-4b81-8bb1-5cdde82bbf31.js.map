{"version":3,"sources":["assets\\scripts\\common\\util\\EditorTool.ts"],"names":[],"mappings":";;;;;;AAAA;;GAEG;AACH;IAAA;IAkDA,CAAC;IAjDG;;;OAGG;IACW,eAAI,GAAlB,UAAsB,GAAW;QAC7B,OAAO,IAAI,OAAO,CAAI,UAAC,OAAO,EAAE,MAAM;YAClC,IAAI,CAAC,SAAS,EAAE;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;gBACd,OAAO;aACV;YACD,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,iBAAe,GAAK,EAAE,UAAC,KAAU,EAAE,IAAY;gBACzE,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;oBAChB,OAAO,CAAC,IAAI,CAAC,CAAC;oBACd,EAAE,CAAC,IAAI,CAAC,yDAAmC,GAAK,CAAC,CAAC;oBAClD,OAAO;iBACV;gBACD,YAAY;gBACZ,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,UAAC,KAAU,EAAE,MAAS;oBAClE,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE;wBAClB,OAAO,CAAC,IAAI,CAAC,CAAC;wBACd,EAAE,CAAC,IAAI,CAAC,iEAAiC,GAAK,CAAC,CAAC;wBAChD,OAAO;qBACV;oBACD,OAAO,CAAC,MAAM,CAAC,CAAC;gBACpB,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACW,+BAAoB,GAAlC,UAAmC,IAAa,EAAE,QAAgB,EAAE,KAAc;QAC9E,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QACD,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IACrE,CAAC;IAED;;;OAGG;IACW,mCAAwB,GAAtC,UAAuC,IAAa;QAChD,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QACD,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7D,CAAC;IACL,iBAAC;AAAD,CAlDA,AAkDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["/**\r\n * 编辑器工具类\r\n */\r\nexport default class EditorTool {\r\n    /**\r\n     * 编辑器模式下加载资源\r\n     * @param url db://assets/\r\n     */\r\n    public static load<T>(url: string): Promise<T> {\r\n        return new Promise<T>((resolve, reject) => {\r\n            if (!CC_EDITOR) {\r\n                resolve(null);\r\n                return;\r\n            }\r\n            Editor.assetdb.queryUuidByUrl(`db://assets/${url}`, (error: any, uuid: string) => {\r\n                if (error || !uuid) {\r\n                    resolve(null);\r\n                    cc.warn(`[EditorTool.load] uuid查询失败 url: ${url}`);\r\n                    return;\r\n                }\r\n                //@ts-ignore\r\n                cc.resources.load({ type: \"uuid\", uuid: uuid }, (error: any, result: T) => {\r\n                    if (error || !result) {\r\n                        resolve(null);\r\n                        cc.warn(`[EditorTool.load] 资源加载失败 url: ${url}`);\r\n                        return;\r\n                    }\r\n                    resolve(result);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 编辑器模式下设置ccclass的属性装饰器中的枚举值\r\n     */\r\n    public static setClassAttrPropEnum(ctor: unknown, propName: string, value: unknown): void {\r\n        if (!CC_EDITOR) {\r\n            return;\r\n        }\r\n        cc.Class[\"Attr\"].setClassAttr(ctor, propName, \"enumList\", value);\r\n    }\r\n\r\n    /**\r\n     * 编辑器模式下刷新选中节点的属性检查器窗口\r\n     * @param node 选中的节点\r\n     */\r\n    public static refreshSelectedInspector(node: cc.Node): void {\r\n        if (!CC_EDITOR) {\r\n            return;\r\n        }\r\n        Editor.Utils.refreshSelectedInspector(\"node\", node.uuid);\r\n    }\r\n}\r\n"]}