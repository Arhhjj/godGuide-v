{"version":3,"sources":["assets\\scripts\\showcase\\home\\Home.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sDAAiD;AACjD,0DAAyD;AACzD,8CAAgD;AAChD,0DAAyE;AACzE,mDAAgE;AAChE,+CAA0C;AAC1C,+CAA0C;AAC1C,6CAAwC;AACxC,6CAAwC;AACxC,+CAA0C;AAEpC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkC,wBAAY;IAA9C;QAAA,qEA8DC;QA5DuB,YAAM,GAAa,IAAI,CAAA;QACvB,eAAS,GAAa,IAAI,CAAA;;IA2DlD,CAAC;IAzDa,qBAAM,GAAhB;QACI,gBAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAES,wBAAS,GAAnB;QACI,gBAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAES,uBAAQ,GAAlB;QACI,IAAI,CAAC,UAAU,EAAE,CAAA;IACrB,CAAC;IAGD,yBAAU,GAAV;QACI,IAAM,IAAI,GAAG,kBAAQ,CAAC,QAAQ,CAAC,IAAI,CAAA;QACnC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAG,IAAM,CAAA;IAClC,CAAC;IAGK,sBAAO,GAAb;;;;gBACU,UAAU,GAAG,cAAI,CAAC,OAAO,CAAC,EAAE,EAAE,GAAG,CAAC,CAAA;gBACxC,kBAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,CAAA;gBACpC,yBAAc,CAAC,WAAW,EAAE,CAAA;gBAC5B,IAAI,CAAC,UAAU,EAAE,CAAA;gBAEjB,eAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,kBAAM,UAAY,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAA;;;;KAKtF;IAGD,yBAAU,GAAV;IAEA,CAAC;IAEO,0BAAW,GAAnB;QACI,eAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAEO,2BAAY,GAApB;QACI,eAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAQ,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IAEO,0BAAW,GAAnB;QACI,eAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,iBAAO,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAEO,0BAAW,GAAnB;QACI,eAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,iBAAO,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAEO,2BAAY,GAApB;QACI,eAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAQ,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IA1DmB;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wCAAwB;IACvB;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2CAA2B;IAe9C;QADC,qBAAY,CAAC,qBAAS,CAAC,WAAW,CAAC;0CAInC;IAGD;QADC,qBAAY,CAAC,qBAAS,CAAC,QAAQ,CAAC;uCAYhC;IAGD;QADC,qBAAY,CAAC,qBAAS,CAAC,WAAW,CAAC;0CAGnC;IAxCgB,IAAI;QADxB,OAAO;OACa,IAAI,CA8DxB;IAAD,WAAC;CA9DD,AA8DC,CA9DiC,EAAE,CAAC,SAAS,GA8D7C;kBA9DoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["import Layer from \"../../common/cmpt/base/Layer\";\r\nimport { EventName } from \"../../common/const/EventName\";\r\nimport { ResUrl } from \"../../common/const/Url\";\r\nimport UserInfo, { UserInfoStorge } from \"../../common/runtime/UserInfo\";\r\nimport Events, { preloadEvent } from \"../../common/util/Events\";\r\nimport Tool from \"../../common/util/Tool\";\r\nimport DlgLevel from \"../dialog/DlgLevel\";\r\nimport DlgRole from \"../dialog/DlgRole\";\r\nimport DlgSign from \"../dialog/DlgSign\";\r\nimport DlgStore from \"../dialog/DlgStore\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Home extends cc.Component {\r\n\r\n    @property(cc.Label) coinLb: cc.Label = null\r\n    @property(cc.Label) addCoinLb: cc.Label = null\r\n\r\n    protected onLoad() {\r\n        Events.targetOn(this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        Events.targetOff(this);\r\n    }\r\n\r\n    protected onEnable() {\r\n        this.updateCoin()\r\n    }\r\n\r\n    @preloadEvent(EventName.UPDATE_COIN)\r\n    updateCoin() {\r\n        const coin = UserInfo.instance.coin\r\n        this.coinLb.string = `${coin}`\r\n    }\r\n\r\n    @preloadEvent(EventName.ADD_COIN)\r\n    async addCoin() {\r\n        const randomCoin = Tool.randInt(20, 100)\r\n        UserInfo.instance.coin += randomCoin\r\n        UserInfoStorge.setUserInfo()\r\n        this.updateCoin()\r\n\r\n        Layer.inst.showTip({ text: `金币+${randomCoin}`, unique: false, end: cc.v2(0, 100) })\r\n\r\n        // this.addCoinLb.string = `+${randomCoin}`\r\n        // await Tool.waitCmpt(this, 2)\r\n        // this.addCoinLb.string = \"\"\r\n    }\r\n\r\n    @preloadEvent(EventName.REDUCE_COIN)\r\n    reduceCoin() {\r\n\r\n    }\r\n\r\n    private onClickGame() {\r\n        Layer.inst.enterMain(ResUrl.PREFAB.GAME);\r\n    }\r\n\r\n    private onClickLevel() {\r\n        Layer.inst.openUniDialogAsync(DlgLevel.pUrl);\r\n    }\r\n\r\n    private onClickSign() {\r\n        Layer.inst.openUniDialogAsync(DlgSign.pUrl);\r\n    }\r\n\r\n    private onClickRole() {\r\n        Layer.inst.openUniDialogAsync(DlgRole.pUrl);\r\n    }\r\n\r\n    private onClickStore() {\r\n        Layer.inst.openUniDialogAsync(DlgStore.pUrl);\r\n    }\r\n\r\n}\r\n"]}