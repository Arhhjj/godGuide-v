{"version":3,"sources":["assets\\scripts\\showcase\\dialog\\DlgAudio.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import DialogBase from \"../../common/cmpt/base/DialogBase\";\r\nimport { DirUrl, ResUrl } from \"../../common/const/Url\";\r\nimport AudioManager, { SfxType } from \"../../common/util/AudioManager\";\r\nimport Res from \"../../common/util/Res\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DlgAudio extends DialogBase {\r\n    public static pUrl: string = DirUrl.PREFAB_DIALOG + \"DlgAudio\";\r\n\r\n    @property(cc.Slider) public volumeSlider: cc.Slider = null;\r\n\r\n    protected onDestroy() {\r\n        AudioManager.stopAll();\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    public onOpen() {\r\n        this.onSlide();\r\n    }\r\n\r\n    private onSlide() {\r\n        AudioManager.bgmVolume = this.volumeSlider.progress;\r\n        AudioManager.sfxVolume = this.volumeSlider.progress;\r\n    }\r\n\r\n    private onClickBgm1FadeIn() {\r\n        AudioManager.playBgm({ clip: Res.get(ResUrl.AUDIO.BGM1, cc.AudioClip), fadeDuration: 5 });\r\n    }\r\n\r\n    private onClickBgm1OutBgm2In() {\r\n        AudioManager.stopBgm(Res.get(ResUrl.AUDIO.BGM1, cc.AudioClip), 5);\r\n        AudioManager.playBgm({ clip: Res.get(ResUrl.AUDIO.BGM2, cc.AudioClip), fadeDuration: 5 });\r\n    }\r\n\r\n    private onClickBgmFadeOut() {\r\n        AudioManager.stopBgm(Res.get(ResUrl.AUDIO.BGM1, cc.AudioClip), 5);\r\n        AudioManager.stopBgm(Res.get(ResUrl.AUDIO.BGM2, cc.AudioClip), 5);\r\n    }\r\n\r\n    // 即使多次点击按钮，此音效也始终只会同时播放一个\r\n    private onClickSfx1() {\r\n        AudioManager.setSfxData(Res.get<cc.AudioClip>(ResUrl.AUDIO.SFX1, cc.AudioClip), SfxType.NORMAL, 1, false);\r\n        AudioManager.playSfx(Res.get<cc.AudioClip>(ResUrl.AUDIO.SFX1, cc.AudioClip), SfxType.NORMAL);\r\n    }\r\n\r\n    // 此音效最多同时播放五个\r\n    private onClickSfx2() {\r\n        AudioManager.setSfxData(Res.get<cc.AudioClip>(ResUrl.AUDIO.SFX2, cc.AudioClip), SfxType.NORMAL, 5, false);\r\n        AudioManager.playSfx(Res.get<cc.AudioClip>(ResUrl.AUDIO.SFX2, cc.AudioClip), SfxType.NORMAL);\r\n    }\r\n}\r\n"]}