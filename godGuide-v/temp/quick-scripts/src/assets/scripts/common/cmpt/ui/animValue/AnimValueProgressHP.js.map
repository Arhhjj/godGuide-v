{"version":3,"sources":["assets\\scripts\\common\\cmpt\\ui\\animValue\\AnimValueProgressHP.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAoD;AAE9C,IAAA,KAAmE,EAAE,CAAC,UAAU,EAA9E,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAA,EAAE,gBAAgB,sBAAA,EAAE,iBAAiB,uBAAkB,CAAC;AAEvF;;GAEG;AAKH;IAAiD,uCAAiB;IAAlE;QAAA,qEA4CC;QAvCU,eAAS,GAAc,IAAI,CAAC;;IAuCvC,CAAC;IArCW,0CAAY,GAApB,UAAqB,QAAgB;QACjC,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;YAC3B,KAAK,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU;gBAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC;gBACpE,MAAM;YACV,KAAK,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ;gBAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC;gBACrE,MAAM;YACV,KAAK,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM;gBAC3B,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,QAAQ,CAAC;YACxC;gBACI,MAAM;SACb;IACL,CAAC;IAED;;OAEG;IACO,yCAAW,GAArB;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;SAEf;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC7C;IACL,CAAC;IAED;;OAEG;IACO,0CAAY,GAAtB;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC7C;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpC;IACL,CAAC;IAtCD;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,MAAM;YACf,OAAO,EAAE,MAAM,IAAI,kDAAkD;SACxE,CAAC;0DACiC;IALlB,mBAAmB;QAJvC,OAAO;QACP,iBAAiB;QACjB,gBAAgB,CAAC,EAAE,CAAC,WAAW,CAAC;QAChC,IAAI,CAAC,oCAAoC,CAAC;OACtB,mBAAmB,CA4CvC;IAAD,0BAAC;CA5CD,AA4CC,CA5CgD,2BAAiB,GA4CjE;kBA5CoB,mBAAmB","file":"","sourceRoot":"/","sourcesContent":["import AnimValueProgress from \"./AnimValueProgress\";\r\n\r\nconst { ccclass, property, menu, requireComponent, executeInEditMode } = cc._decorator;\r\n\r\n/**\r\n * 血条组件\r\n */\r\n@ccclass\r\n@executeInEditMode\r\n@requireComponent(cc.ProgressBar)\r\n@menu(\"Framework/UI组件/AnimValueProgressHP\")\r\nexport default class AnimValueProgressHP extends AnimValueProgress {\r\n    @property({\r\n        type: cc.Sprite,\r\n        tooltip: CC_DEV && \"血条阴影，如果barSprite渲染模式为filled模式，此sprite也要对应修改，保持一致\"\r\n    })\r\n    public barShadow: cc.Sprite = null;\r\n\r\n    private setBarShadow(progress: number): void {\r\n        switch (this.progressBar.mode) {\r\n            case cc.ProgressBar.Mode.HORIZONTAL:\r\n                this.barShadow.node.width = this.progressBar.totalLength * progress;\r\n                break;\r\n            case cc.ProgressBar.Mode.VERTICAL:\r\n                this.barShadow.node.height = this.progressBar.totalLength * progress;\r\n                break;\r\n            case cc.ProgressBar.Mode.FILLED:\r\n                this.barShadow.fillRange = progress;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    protected onAnimStart(): void {\r\n        if (this.isAdd) {\r\n\r\n        } else {\r\n            this.progressBar.progress = this.endValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    protected onAnimUpdate(): void {\r\n        if (this.isAdd) {\r\n            this.setBarShadow(this.curValue);\r\n            this.progressBar.progress = this.curValue;\r\n        } else {\r\n            this.setBarShadow(this.curValue);\r\n        }\r\n    }\r\n}\r\n"]}